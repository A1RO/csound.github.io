<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Csound: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Csound
   &#160;<span id="projectnumber">6.11</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Csound Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Csound is a unit generator-based, user-programmable, user-extensible computer music system. It was originally written by Barry Vercoe at the Massachusetts Institute of Technology in 1984 as the first C language version of this type of software. Since then Csound has received numerous contributions from researchers, programmers, and musicians from around the world.</p>
<h1><a class="anchor" id="section_api_outline"></a>
Outline of the API</h1>
<h2><a class="anchor" id="section_api_apilist"></a>
The Csound Application Programming Interfaces</h2>
<p>The Csound Application Programming Interface (API) reference is contained herein. The Csound API actually consists of several APIs:</p>
<ul>
<li>The basic Csound C API. Include <a class="el" href="csound_8h.html" title="Declares the public Csound application programming interface (API). ">csound.h</a> and link with libcsound.a. This also includes the Cscore API (see below).</li>
<li>The basic Csound C++ API. Include csound.hpp and link with libcsound.a.</li>
<li>The interfaces API, includes a number of auxiliary C++ classes, which add functionality and support the wrapping of the Csound API by various languages (e.g. Python, Java, Lua).</li>
</ul>
<p><b>Purposes</b> </p>
<p>The purposes of the Csound API are as follows:</p>
<ul>
<li>Declare a stable public application programming interface (API) for Csound in <a class="el" href="csound_8h.html" title="Declares the public Csound application programming interface (API). ">csound.h</a>. This is the only header file that needs to be #included by users of the Csound API.</li>
</ul>
<ul>
<li>Hide the internal implementation details of Csound from users of the API, so that development of Csound can proceed without affecting code that uses the API.</li>
</ul>
<p><b>Users</b> </p>
<p>Users of the Csound API fall into two main categories: hosts, and plugins.</p>
<ul>
<li>Hosts are applications that use Csound as a software synthesis engine. Hosts can link with the Csound API either statically or dynamically.</li>
</ul>
<ul>
<li>Plugins are shared libraries loaded by Csound at run time to implement external opcodes and/or drivers for audio or MIDI input and output. Plugin opcodes need only include the csdl.h header which brings all necessary functions and data structures. Plugins can be written in C++ using either <code>include/plugin.h</code> (using the Csound allocator, for opcodes that do not involve standard C++ library collections) or <code>include/OpcodeBase.hpp</code> (using the standard ++ allocator, for opcodes that do use standard C++ library collections).</li>
</ul>
<h1><a class="anchor" id="section_api_c_example"></a>
Examples Using the Csound API</h1>
<p>The Csound command&ndash;line program is itself built using the Csound API. Its code reads (in outline) as follows:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="csound_8h.html">csound.h</a>&quot;</span></div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div><div class="line">{</div><div class="line">  <span class="keywordtype">void</span> *csound = <a class="code" href="group___i_n_s_t_a_n_t_i_a_t_i_o_n.html#ga5335e70e6eb3f372001e3fec18082336">csoundCreate</a>(0);</div><div class="line">  <span class="keywordtype">int</span> result = <a class="code" href="group___p_e_r_f_o_r_m_a_n_c_e.html#ga92c741a482b072bc503f790bf0824dad">csoundCompile</a>(csound, argc, argv);</div><div class="line">  <span class="keywordflow">if</span>(!result) {</div><div class="line">    <span class="keywordflow">while</span>(<a class="code" href="group___p_e_r_f_o_r_m_a_n_c_e.html#ga3db60569a5e320507d6a5fa1f16202eb">csoundPerformKsmps</a>(csound) == 0){}</div><div class="line">    <a class="code" href="group___p_e_r_f_o_r_m_a_n_c_e.html#ga81289d7daf033349d8b36aa03c528ea4">csoundCleanup</a>(csound);</div><div class="line">  }</div><div class="line">  <a class="code" href="group___i_n_s_t_a_n_t_i_a_t_i_o_n.html#ga3db5fab38f4509f70f4c4c93001440ee">csoundDestroy</a>(csound);</div><div class="line">  <span class="keywordflow">return</span> result;</div><div class="line">}</div></div><!-- fragment --><p>The Csound API defines two modes of operation for hosts. In the first mode, a regular Csound score is performed and then performance automatically ends. This could be called "score mode." In the second mode, Csound continues to perform indefinitely until performance is explicitly ended by calling csoundStop. This could be called "live mode." Which mode is used is determined by when csoundStart is called. In more detail:</p>
<h2><a class="anchor" id="s1"></a>
Using a CSD text</h2>
<ul>
<li>The &lt;CsOptions&gt; section of the CSD file is processed.</li>
</ul>
<ul>
<li>Either csoundStart must be called after csoundCompileCsd or csoundReadScore, or csoundReadScore must be called before csoundCompile.</li>
</ul>
<ul>
<li>An optional score is pre-processed, and events are dispatched as regular score events. "f", "s", and "e" events are permitted in the score.</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="csound_8h.html">csound.h</a>&quot;</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *csd_text = </div><div class="line"> <span class="stringliteral">&quot;&lt;CsoundSynthesizer&gt; \n&quot;</span></div><div class="line"> <span class="stringliteral">&quot;&lt;CsOptions&gt; -odac &lt;/CsOptions&gt; \n&quot;</span></div><div class="line"> <span class="stringliteral">&quot;&lt;CsInstruments&gt; \n&quot;</span></div><div class="line"> <span class="stringliteral">&quot;instr 1 \n&quot;</span></div><div class="line"> <span class="stringliteral">&quot; out(linen(oscili(p4,p5),0.1,p3,0.1)) \n&quot;</span></div><div class="line"> <span class="stringliteral">&quot;endin \n&quot;</span></div><div class="line"> <span class="stringliteral">&quot;&lt;/CsInstruments&gt; \n&quot;</span></div><div class="line"> <span class="stringliteral">&quot;&lt;CsScore&gt; \n&quot;</span></div><div class="line"> <span class="stringliteral">&quot;i1 0 5 1000 440 \n&quot;</span></div><div class="line"> <span class="stringliteral">&quot;&lt;/CsScore&gt; \n&quot;</span></div><div class="line"> <span class="stringliteral">&quot;&lt;/CsoundSynthesizer&gt; \n&quot;</span>;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div><div class="line">{</div><div class="line">  <span class="keywordtype">void</span> *csound = <a class="code" href="group___i_n_s_t_a_n_t_i_a_t_i_o_n.html#ga5335e70e6eb3f372001e3fec18082336">csoundCreate</a>(0);</div><div class="line">  <span class="keywordtype">int</span> result = <a class="code" href="group___p_e_r_f_o_r_m_a_n_c_e.html#ga900a86a46bd4696958da6b9671d317fe">csoundCompileCsdText</a>(csound, csd_text);</div><div class="line">  result = <a class="code" href="group___p_e_r_f_o_r_m_a_n_c_e.html#gad482282dd5197f1683bf5721766b2dec">csoundStart</a>(csound);</div><div class="line">  <span class="keywordflow">while</span> (1) {</div><div class="line">     result = <a class="code" href="group___p_e_r_f_o_r_m_a_n_c_e.html#ga3db60569a5e320507d6a5fa1f16202eb">csoundPerformKsmps</a>(csound);</div><div class="line">     <span class="keywordflow">if</span> (result != 0) {</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">     }</div><div class="line">  }</div><div class="line">  result = <a class="code" href="group___p_e_r_f_o_r_m_a_n_c_e.html#ga81289d7daf033349d8b36aa03c528ea4">csoundCleanup</a>(csound);</div><div class="line">  <a class="code" href="group___p_e_r_f_o_r_m_a_n_c_e.html#ga2868c337ffcb100b1a4a56cfcc7d47c3">csoundReset</a>(csound);</div><div class="line">  <a class="code" href="group___i_n_s_t_a_n_t_i_a_t_i_o_n.html#ga3db5fab38f4509f70f4c4c93001440ee">csoundDestroy</a>(csound);</div><div class="line">  <span class="keywordflow">return</span> result;</div><div class="line">}</div></div><!-- fragment --><h2><a class="anchor" id="s2"></a>
Using Csound code directly.</h2>
<ul>
<li>The &lt;CsOptions&gt; section of the CSD file not processed; options must be set by calling csoundSetOption.</li>
</ul>
<ul>
<li>csoundStart must be called before csoundCompileCsd or csoundReadScore.</li>
</ul>
<ul>
<li>An optional score can be pre-processed (except for tempo and section), but events are dispatched as real-time events.</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="csound_8h.html">csound.h</a>&quot;</span></div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *orc_text = </div><div class="line"> <span class="stringliteral">&quot;instr 1 \n&quot;</span></div><div class="line"> <span class="stringliteral">&quot; out(linen(oscili(p4,p5),0.1,p3,0.1)) \n&quot;</span></div><div class="line"> <span class="stringliteral">&quot;endin \n&quot;</span>;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keywordtype">char</span> *sco_text = <span class="stringliteral">&quot;i1 0 5 1000 440 \n&quot;</span>;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> **argv)</div><div class="line">{</div><div class="line">  <span class="keywordtype">void</span> *csound = <a class="code" href="group___i_n_s_t_a_n_t_i_a_t_i_o_n.html#ga5335e70e6eb3f372001e3fec18082336">csoundCreate</a>(0);</div><div class="line">  <span class="keywordtype">int</span> result = <a class="code" href="group___a_t_t_r_i_b_u_t_e_s.html#ga332ed5da3d399f0ae039906c380764e1">csoundSetOption</a>(csound, <span class="stringliteral">&quot;-d&quot;</span>);</div><div class="line">  result = <a class="code" href="group___a_t_t_r_i_b_u_t_e_s.html#ga332ed5da3d399f0ae039906c380764e1">csoundSetOption</a>(csound, <span class="stringliteral">&quot;-odac&quot;</span>);</div><div class="line">  result = <a class="code" href="group___p_e_r_f_o_r_m_a_n_c_e.html#gad482282dd5197f1683bf5721766b2dec">csoundStart</a>(csound);</div><div class="line">  result = <a class="code" href="group___p_e_r_f_o_r_m_a_n_c_e.html#ga00fc1c4745b51f3c42819cc77024e39d">csoundCompileOrc</a>(csound, orc_text);</div><div class="line">  result = <a class="code" href="group___s_c_o_r_e_h_a_n_d_l_i_n_g.html#gaf338f7ddfdcac8ccb50cbe09e12e5fb7">csoundReadScore</a>(csound, sco_text);</div><div class="line">  <span class="keywordflow">while</span> (1) {</div><div class="line">     result = <a class="code" href="group___p_e_r_f_o_r_m_a_n_c_e.html#ga3db60569a5e320507d6a5fa1f16202eb">csoundPerformKsmps</a>(csound);</div><div class="line">     <span class="keywordflow">if</span> (result != 0) {</div><div class="line">        <span class="keywordflow">break</span>;</div><div class="line">     }</div><div class="line">  }</div><div class="line">  result = <a class="code" href="group___p_e_r_f_o_r_m_a_n_c_e.html#ga81289d7daf033349d8b36aa03c528ea4">csoundCleanup</a>(csound);</div><div class="line">  <a class="code" href="group___p_e_r_f_o_r_m_a_n_c_e.html#ga2868c337ffcb100b1a4a56cfcc7d47c3">csoundReset</a>(csound);</div><div class="line">  <a class="code" href="group___i_n_s_t_a_n_t_i_a_t_i_o_n.html#ga3db5fab38f4509f70f4c4c93001440ee">csoundDestroy</a>(csound);</div><div class="line">  <span class="keywordflow">return</span> result;</div><div class="line">}</div></div><!-- fragment --><p>Everything that can be done using C as in the above examples can also be done in a similar manner in Python or any of the other Csound API languages. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
