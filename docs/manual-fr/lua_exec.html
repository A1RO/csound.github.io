<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>lua_exec</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="OpcodesTop.html" title="Opcodes et opérateurs de l'orchestre" />
    <link rel="prev" href="lpslot.html" title="lpslot" />
    <link rel="next" href="lua_opdef.html" title="lua_opdef" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">lua_exec</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="lpslot.html">Précédent</a> </td>
          <th width="60%" align="center">Opcodes et opérateurs de l'orchestre</th>
          <td width="20%" align="right"> <a accesskey="n" href="lua_opdef.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="lua_exec"></a>
      <div class="titlepage"></div>
      <a id="Indexlua_exec" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">lua_exec</span>
        </h2>
        <p>lua_exec — 
      Exécute un bloc arbitraire de code Lua depuis l'orchestre de Csound.
    </p>
      </div>
      <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
        <table border="0" summary="Note">
          <tr>
            <td rowspan="2" align="center" valign="top" width="25">
              <img alt="[Note]" src="images/note.png" />
            </td>
            <th align="left">Note</th>
          </tr>
          <tr>
            <td align="left" valign="top">Greffon : nécessite le greffon lua.</td>
          </tr>
        </table>
      </div>
      <div class="refsect1">
        <a id="idm125522"></a>
        <h2>Description</h2>
        <p>
      Exécute un bloc arbitraire de code Lua depuis l'orchestre de Csound. Le
      code est exécuté pendant l'initialisation, typiquement depuis l'en-tête de
      l'orchestre.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm125525"></a>
        <h2>Syntaxe</h2>
        <pre class="synopsis"><span class="command"><strong>lua_exec</strong></span> Sluacode</pre>
      </div>
      <div class="refsect1">
        <a id="idm125529"></a>
        <h2>Initialisation</h2>
        <p>
      <span class="emphasis"><em>Sluacode</em></span> -- Un bloc de code Lua, de n'importe quelle
      longueur. On peut entourer les blocs multi-lignes par des accolades
      doubles (<code class="literal">{{ }}</code>). Le code est évalué une seule fois
      durant l'initialisation, typiquement depuis l'en-tête de l'orchestre. On
      peut déclarer et définir des variables globales et locales, des fonctions,
      des tables et des classes. Les objets définis dans la portée globale de
      Lua restent accessibles durant toute l'exécution, et ils sont visibles
      depuis tout autre code Lua situé dans le même fil de Csound.
    </p>
        <p>
      L'instance courante de Csound est stockée sous forme de donnée utilisateur
      légère de Lua dans une variable globale <code class="literal">csound</code>. Celle-ci
      peut être passée à n'importe quelle fonction de l'API de Csound. Une
      utilisation possible de ce mécanisme est la génération d'une partition
      par Lua dans l'en-tête de l'orchestre et la distribution des évènements
      pour exécution au moyen de <code class="literal">csoundInputMessage</code>.
    </p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top" width="25">
                <img alt="[Note]" src="images/note.png" />
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>
        Par défaut, tous les objets définis dans Lua sont dans la portée globale.
        Pour maintenir les objets confinés dans leur propre bloc de code,
        c'est-à-dire pour que les objets ne soient visibles que dans leur portée
        lexicale, il faut les déclarer avec l'attribut <span class="emphasis"><em>local</em></span>.
        Cette particularité de Lua a souvent tendance à troubler les débutants.
      </p>
                <p>
        Il faut aussi tenir compte du fait que les tableaux de Lua sont indexés
        à partir de 1 à l'inverse de ceux de C et d'autres langages de programmation
        qui sont indéxés à partir de 0.
      </p>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div class="refsect1">
        <a id="idm125541"></a>
        <h2>Voir aussi</h2>
        <p>
      <a class="link" href="lua_opdef.html" title="lua_opdef"><em class="citetitle">lua_opdef</em></a>, 
      <a class="link" href="lua_opcall.html" title="lua_opcall"><em class="citetitle">lua_opcall</em></a>. 
    </p>
      </div>
      <div class="refsect1">
        <a id="idm125548"></a>
        <h2>Crédits</h2>
        <p>
      Par : Michael Gogins, 2011
    </p>
        <p>
      Nouveau dans la version 5.13.2 de Csound.
    </p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="lpslot.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="OpcodesTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="lua_opdef.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">lpslot </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> lua_opdef</td>
        </tr>
      </table>
    </div>
  </body>
</html>
