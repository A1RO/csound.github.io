<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>FLbutton</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.78.1" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="OpcodesTop.html" title="Opcodes et opérateurs de l'orchestre" />
    <link rel="prev" href="FLbutBank.html" title="FLbutBank" />
    <link rel="next" href="FLcloseButton.html" title="FLcloseButton" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">FLbutton</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="FLbutBank.html">Précédent</a> </td>
          <th width="60%" align="center">Opcodes et opérateurs de l'orchestre</th>
          <td width="20%" align="right"> <a accesskey="n" href="FLcloseButton.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="FLbutton"></a>
      <div class="titlepage"></div>
      <a id="IndexFlbutton" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">FLbutton</span>
        </h2>
        <p>FLbutton — 
      Un opcode de widget FLTK qui crée un bouton.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm47887681052256"></a>
        <h2>Description</h2>
        <p>
      Un opcode de widget FLTK qui crée un bouton.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm47887681050976"></a>
        <h2>Syntaxe</h2>
        <pre class="synopsis">kout, ihandle <span class="command"><strong>FLbutton</strong></span> "label", ion, ioff, itype, iwidth, iheight, ix, \
      iy, iopcode [, kp1] [, kp2] [, kp3] [, kp4] [, kp5] [....] [, kpN]</pre>
      </div>
      <div class="refsect1">
        <a id="idm47887681048544"></a>
        <h2>Initialisation</h2>
        <p>
      <span class="emphasis"><em>ihandle</em></span> -- un identifiant (un nombre entier) qui
      référence de manière univoque le widget correspondant. Il est utilisé par
      d'autres opcodes qui modifient les propriété du widget (voir
      <a class="link" href="ControlFltkAppearance.html" title="Modifier l'apparence des widgets FLTK"><em class="citetitle">Modifier l'Apparence des
      Widgets FLTK</em></a>). Il est automatiquement retourné par
      <span class="emphasis"><em>FLbutton</em></span> et ne doit pas être fixé par l'étiquette de
      l'utilisateur. (L'étiquette de l'utilisateur est une chaîne entre
      guillemets contenant un texte fourni par l'utilisateur placé à côté du
      widget.)
    </p>
        <p>
      <span class="emphasis"><em><span class="quote">« <span class="quote">label</span> »</span></em></span> -- une chaîne entre guillemets
      contenant un texte fourni par l'utilisateur placé à côté du widget.
    </p>
        <p>
      Noter qu'avec <span class="emphasis"><em>FLbutton</em></span> il n'est pas nécessaire d'appeler
      l'opcode <a class="link" href="FLsetTextType.html" title="FLsetTextType"><em class="citetitle">FLsetTextType</em></a>
      pour utiliser un symbole. Dans ce cas, il suffit d'utiliser une étiquette
      commençant par <span class="quote">« <span class="quote">@</span> »</span> suivi de la chaîne de formatage correcte.
    </p>
        <p>
      Les symboles suivants sont supportés :

      </p>
        <div class="mediaobject">
          <img src="images/symbols.png" alt="Symboles d'étiquette FLTK supportés." />
          <div class="caption">
            <p>Symboles d'étiquette FLTK supportés.</p>
          </div>
        </div>
        <p>
    </p>
        <p>
      Le signe @ peut être suivi par les caractères de <span class="quote">« <span class="quote">formatage</span> »</span>
      facultatifs suivants, dans cet ordre :

      </p>
        <div class="orderedlist">
          <ol class="orderedlist" type="1">
            <li class="listitem">
              <p><span class="quote">« <span class="quote">#</span> »</span> force une image carrée sans
        distortion de la forme du widget.</p>
            </li>
            <li class="listitem">
              <p>+[1-9] or -[1-9] grossit ou diminue l'image.</p>
            </li>
            <li class="listitem">
              <p>[1-9] effectue une rotation d'un multiple de 45 degrés.
        <span class="quote">« <span class="quote">6</span> »</span> ne fait rien, les autres valeurs pointent dans la
        direction de cette touche sur un pavé numérique.</p>
            </li>
          </ol>
        </div>
        <p>
    </p>
        <p>
      <span class="emphasis"><em>ion</em></span> -- valeur retournée quand le bouton est coché.
    </p>
        <p>
      <span class="emphasis"><em>ioff</em></span> -- valeur retournée quand le bouton est décoché.
    </p>
        <p>
      <span class="emphasis"><em>itype</em></span> -- un nombre entier dénotant l'apparence du
      widget.
    </p>
        <p>
      Plusieurs types de bouton sont possibles selon la valeur de l'argument
      <span class="emphasis"><em>itype</em></span> :

      </p>
        <div class="itemizedlist">
          <ul class="itemizedlist" style="list-style-type: disc; ">
            <li class="listitem">
              <p>1 - bouton normal</p>
            </li>
            <li class="listitem">
              <p>2 - bouton lumineux</p>
            </li>
            <li class="listitem">
              <p>3 - bouton à cocher</p>
            </li>
            <li class="listitem">
              <p>4 - bouton avec un cercle à cocher</p>
            </li>
          </ul>
        </div>
        <p>
      On peut ajouter 20 à la valeur pour créer un bouton de type "plastique".
      Noter qu'il n'y a pas de bouton arrondi plastique (si vous fixer le type
      à 24, le bouton aura la même apparence qu'avec le type 23).
    </p>
        <p>
      Voici l'apparence des boutons :

      </p>
        <div class="mediaobject">
          <img src="images/flbutton.png" alt="FLbutton." />
          <div class="caption">
            <p>FLbutton.</p>
          </div>
        </div>
        <p>
    </p>
        <p>
      <span class="emphasis"><em>iwidth</em></span> -- largeur du widget.
    </p>
        <p>
      <span class="emphasis"><em>iheight</em></span> -- hauteur du widget.
    </p>
        <p>
      <span class="emphasis"><em>ix</em></span> -- position horizontale du coin supérieur gauche
      du widget, relative au coin supérieur gauche de la fenêtre correspondante
      (exprimée en pixels).
    </p>
        <p>
      <span class="emphasis"><em>iy</em></span> -- position verticale du coin supérieur gauche
      du widget, relative au coin supérieur gauche de la fenêtre correspondante
      (exprimée en pixels).
    </p>
        <p>
      <span class="emphasis"><em>iopcode</em></span> -- type de l'instruction de partition. Il faut
      fournir le code ASCII de la lettre correspondant à l'instruction de partition.
      Actuellement seules les instructions de partition <span class="quote">« <span class="quote">i</span> »</span> (code
      ASCII 105) sont supportées. Une valeur de zéro fait référence à une valeur
      de <span class="quote">« <span class="quote">i</span> »</span> par défaut. Ainsi 0 et 105 activent l'instruction
      <a class="link" href="i.html" title="Instruction i (instruction d'instrument ou de note)"><em class="citetitle">i</em></a>. Une valeur de -1
      désactive cette possibilité.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm47887681014640"></a>
        <h2>Exécution</h2>
        <p>
      <span class="emphasis"><em>kout</em></span> -- valeur de sortie.
    </p>
        <p>
      <span class="emphasis"><em>kp1</em></span>, <span class="emphasis"><em>kp2</em></span>, ..., <span class="emphasis"><em>kpN</em></span> --
      arguments des instruments activés.
    </p>
        <p>
      Les boutons de type 2, 3 et 4 retournent (argument <span class="emphasis"><em>kout</em></span>)
      la valeur contenue dans l'argument <span class="emphasis"><em>ion</em></span> lorsqu'ils sont
      cochés et celle contenue dans l'argument <span class="emphasis"><em>ioff</em></span>
      lorsqu'ils sont décochés.
    </p>
        <p>
      En ajoutant 10 à l'argument <span class="emphasis"><em>itype</em></span> (c'est à dire en
      lui attribuant la valeur 11 pour le type 1, 12 pour le type 2, 13 pour le
      type 3 et 14 pour le type 4), il est possible d'ignorer la valeur du
      bouton lorsque l'on sauve ou que l'on récupère des instantanés (voir la
      section suivante). Non seulement <span class="emphasis"><em>FLbutton</em></span> retourne
      une valeur, mais il peut aussi activer (ou programmer) un instrument
      fourni par l'utilisateur chaque fois le bouton est cliqué. On peut aussi
      ajouter 10 aux type de boutons "plastiques" (31 pour le type
      1, 32 pour le type 2, etc).
    </p>
        <p>
      Si l'argument <span class="emphasis"><em>iopcode</em></span> est fixé à un nombre négatif,
      aucun instrument n'est activé. Ainsi cette possibilité est facultative.
      Pour activer un instrument, <span class="emphasis"><em>iopcode</em></span> doit valoir 0 ou
      105 (le code ASCII du caractère <span class="quote">« <span class="quote">i</span> »</span>, faisant référence à
      l'instruction de partition <a class="link" href="i.html" title="Instruction i (instruction d'instrument ou de note)"><em class="citetitle">i</em></a>).
    </p>
        <p>
      Les p-champs de l'instrument activé sont <span class="emphasis"><em>kp1</em></span> (numéro
      de l'instrument), <span class="emphasis"><em>kp2</em></span> (date de l'action),
      <span class="emphasis"><em>kp3</em></span> (durée), suivis des p-champs de l'utilisateur.
      Noter que pour les boutons à deux états (bouton lumineux, bouton à cocher,
      bouton avec un cercle à cocher), l'instrument n'est activé que lorsque le
      l'état du bouton passe de décoché à coché (pas de coché à décoché).
    </p>
      </div>
      <div class="refsect1">
        <a id="idm47887681001456"></a>
        <h2>Exemples</h2>
        <p>
      Voici un exemple de l'opcode FLbutton. Il utilise les fichiers
      <a class="ulink" href="examples/FLbutton.csd" target="_top"><em class="citetitle">FLbutton.csd</em></a>
      et <a class="ulink" href="examples/beats.wav" target="_top"><em class="citetitle">beats.wav</em></a>.
      </p>
        <div class="example">
          <a id="idm47887680998736"></a>
          <p class="title">
            <strong>Exemple 280. Exemple de l'opcode FLbutton.</strong>
          </p>
          <div class="example-contents">
            <p>Voir les sections <a class="link" href="UsingRealTime.html" title="Audio en temps réel"><em class="citetitle">Audio en Temps Réel</em></a>
        et <a class="link" href="CommandFlags.html" title="Ligne de commande de Csound"><em class="citetitle">Options de la Ligne de Commande</em></a> pour plus
        d'information sur l'utilisation des options de la ligne de commande.</p>
            <div class="refsect1">
              <a id="idm47887525743536"></a>
              <pre class="programlisting">
<span class="csdtag">&lt;CsoundSynthesizer&gt;</span>
<span class="csdtag">&lt;CsOptions&gt;</span>
<span class="comment">; Select audio/midi flags here according to platform</span>
<span class="comment">; Audio out   Audio in    No messages</span>
-odac           -iadc     -d     <span class="comment">;;;RT audio I/O</span>
<span class="comment">; For Non-realtime ouput leave only the line below:</span>
<span class="comment">; -o FLbutton.wav -W ;;; for file output any platform</span>
<span class="csdtag">&lt;/CsOptions&gt;</span>
<span class="csdtag">&lt;CsInstruments&gt;</span>

<span class="comment">; Using FLbuttons to create on screen controls for play, </span>
<span class="comment">; stop, fast forward and fast rewind of a sound file</span>
<span class="comment">; This example also makes use of a preset graphic for buttons.</span>

<span class="ohdr">sr</span> <span class="op">=</span> 44100
<span class="ohdr">kr</span> <span class="op">=</span> 44100
<span class="ohdr">ksmps</span> <span class="op">=</span> 1
<span class="ohdr">nchnls</span> <span class="op">=</span> 2

<span class="opc">FLpanel</span> "Buttons", 240, 400, 100, 100
    ion <span class="op">=</span> 0
    ioff <span class="op">=</span> 0
    itype <span class="op">=</span> 1
    iwidth <span class="op">=</span> 50
    iheight <span class="op">=</span> 50
    ix <span class="op">=</span> 10
    iy <span class="op">=</span> 10
    iopcode <span class="op">=</span> 0
    istarttim <span class="op">=</span> 0
    idur <span class="op">=</span> <span class="op">-</span>1  <span class="comment">;Turn instruments on idefinitely</span>

    <span class="comment">; Normal speed forwards</span>
    gkplay, ihb1 <span class="opc">FLbutton</span> "@<span class="op">&gt;</span>", ion, ioff, itype, iwidth, iheight, ix, iy, iopcode, 1, istarttim, idur, 1 
    <span class="comment">; Stationary </span>
    gkstop, ihb2 <span class="opc">FLbutton</span> "@square", ion,ioff, itype, iwidth, iheight, ix<span class="op">+</span>55, iy, iopcode, 2, istarttim, idur
    <span class="comment">; Double speed backwards</span>
    gkrew, ihb3 <span class="opc">FLbutton</span> "@<span class="op">&lt;</span><span class="op">&lt;</span>", ion, ioff, itype, iwidth, iheight, ix <span class="op">+</span> 110, iy, iopcode, 1, istarttim, idur, <span class="op">-</span>2
    <span class="comment">; Double speed forward</span>
    gkff, ihb4 <span class="opc">FLbutton</span> "@<span class="op">&gt;</span><span class="op">&gt;</span>", ion, ioff, itype, iwidth, iheight, ix<span class="op">+</span>165, iy, iopcode, 1, istarttim, idur, 2
    <span class="comment">; Type 1</span>
    gkt1, iht1 <span class="opc">FLbutton</span> "1<span class="op">-</span>Normal Button", ion, ioff, 1, 200, 40, ix, iy <span class="op">+</span> 65, <span class="op">-</span>1 
    <span class="comment">; Type 2</span>
    gkt2, iht2 <span class="opc">FLbutton</span> "2<span class="op">-</span>Light Button", ion, ioff, 2, 200, 40, ix, iy <span class="op">+</span> 110, <span class="op">-</span>1 
    <span class="comment">; Type 3</span>
    gkt3, iht3 <span class="opc">FLbutton</span> "3<span class="op">-</span>Check Button", ion, ioff, 3, 200, 40, ix, iy <span class="op">+</span> 155, <span class="op">-</span>1 
    <span class="comment">; Type 4</span>
    gkt4, iht4 <span class="opc">FLbutton</span> "4<span class="op">-</span>Round Button", ion, ioff, 4, 200, 40, ix, iy <span class="op">+</span> 200, <span class="op">-</span>1 
    <span class="comment">; Type 21</span>
    gkt5, iht5 <span class="opc">FLbutton</span> "21<span class="op">-</span>Plastic Button", ion, ioff, 21, 200, 40, ix, iy <span class="op">+</span> 245, <span class="op">-</span>1 
    <span class="comment">; Type 22</span>
    gkt6, iht6 <span class="opc">FLbutton</span> "22<span class="op">-</span>Plastic Light Button", ion, ioff, 22, 200, 40, ix, iy <span class="op">+</span> 290, <span class="op">-</span>1
    <span class="comment">; Type 23</span>
    gkt7, iht7 <span class="opc">FLbutton</span> "23<span class="op">-</span>Plastic Check Button", ion, ioff, 23, 200, 40, ix, iy <span class="op">+</span> 335, <span class="op">-</span>1 
<span class="opc">FLpanelEnd</span>
<span class="opc">FLrun</span>

<span class="comment">; Ensure that only 1 instance of instr 1</span>
<span class="comment">; plays even if the play button is clicked repeatedly</span>
insnum <span class="op">=</span> 1
icount <span class="op">=</span> 1
<span class="opc">maxalloc</span> insnum, icount

<span class="oblock">instr</span> 1
    asig <span class="opc">diskin2</span> "beats.wav", p4, 0, 1
    <span class="opc">outs</span> asig, asig
<span class="oblock">endin</span>

<span class="oblock">instr</span> 2
    <span class="opc">turnoff2</span> 1, 0, 0   <span class="comment">;Turn off instr 1</span>
    <span class="opc">turnoff</span>   <span class="comment">;Turn off this instrument</span>
<span class="oblock">endin</span>

<span class="csdtag">&lt;/CsInstruments&gt;</span>
<span class="csdtag">&lt;CsScore&gt;</span>

<span class="comment">; Real-time performance for 1 hour.</span>
<span class="stamnt">f</span> 0 3600
<span class="stamnt">e</span>


<span class="csdtag">&lt;/CsScore&gt;</span>
<span class="csdtag">&lt;/CsoundSynthesizer&gt;</span>
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />
    </p>
      </div>
      <div class="refsect1">
        <a id="idm47887680994368"></a>
        <h2>Voir aussi</h2>
        <p>
      <a class="link" href="FLbox.html" title="FLbox"><em class="citetitle">FLbox</em></a>,
      <a class="link" href="FLbutBank.html" title="FLbutBank"><em class="citetitle">FLbutBank</em></a>,
      <a class="link" href="FLprintk.html" title="FLprintk"><em class="citetitle">FLprintk</em></a>,
      <a class="link" href="FLprintk2.html" title="FLprintk2"><em class="citetitle">FLprintk2</em></a>,
      <a class="link" href="FLvalue.html" title="FLvalue"><em class="citetitle">FLvalue</em></a>
    </p>
      </div>
      <div class="refsect1">
        <a id="idm47887680988480"></a>
        <h2>Crédits</h2>
        <p>Auteur : Gabriel Maldonado</p>
        <p>Nouveau dans la version 4.22</p>
        <p>Exemple écrit par Iain McCurdy, édité par Kevin Conder.</p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="FLbutBank.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="OpcodesTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="FLcloseButton.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">FLbutBank </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> FLcloseButton</td>
        </tr>
      </table>
    </div>
  </body>
</html>
