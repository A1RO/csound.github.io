<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>beosc</title>
    <link rel="stylesheet" type="text/css" href="csound.css" />
    <link rel="stylesheet" type="text/css" href="syntax-highlighting.css" />
    <meta name="generator" content="DocBook XSL Stylesheets V1.79.1" />
    <link rel="home" href="index.html" title="Manuel de référence canonique de Csound" />
    <link rel="up" href="OpcodesTop.html" title="Opcodes et opérateurs de l'orchestre" />
    <link rel="prev" href="beadsynt.html" title="beadsynt" />
    <link rel="next" href="betarand.html" title="betarand" />
  </head>
  <body>
    <div class="navheader">
      <table width="100%" summary="Navigation header">
        <tr>
          <th colspan="3" align="center">beosc</th>
        </tr>
        <tr>
          <td width="20%" align="left"><a accesskey="p" href="beadsynt.html">Précédent</a> </td>
          <th width="60%" align="center">Opcodes et opérateurs de l'orchestre</th>
          <td width="20%" align="right"> <a accesskey="n" href="betarand.html">Suivant</a></td>
        </tr>
      </table>
      <hr />
    </div>
    <div class="refentry">
      <a id="beosc"></a>
      <div class="titlepage"></div>
      <a id="IndexBeosc" class="indexterm"></a>
      <div class="refnamediv">
        <h2>
          <span class="refentrytitle">beosc</span>
        </h2>
        <p>beosc — 
      Oscillateur à bande améliorée.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm31561"></a>
        <h2>Description</h2>
        <p>Opcode de greffon dans beosc.</p>
        <p>
      Oscillateur à bande améliorée, portage de l'oscillateur de loris (basé sur
      BEOsc de Supercollider).
      La famille d'opcodes à bande améliorée (beosc, beadsynt) implémente une
      modélisation du son et une synthèse qui préservent l'élégance et la
      souplesse du modèle sinusoïdal tout en ajustant les sons avec des
      composantes bruiteuses (non sinusoïdales). L'analyse est faite hors-ligne
      par une méthode de McAulay-Quatieri (MQ) améliorée qui extrait
      l'information de largeur de bande en plus des paramètres sinusoïdaux pour
      chaque partiel. Pour produire les composantes bruiteuses, la synthèse
      est faite avec des oscillateurs sinusoïdaux modifiés pour permettre
      l'introduction d'une largeur de bande variable.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm31565"></a>
        <h2>Syntaxe</h2>
        <pre class="synopsis">aout <span class="command"><strong>beosc</strong></span> xfreq, kbw [, ifn, iphs, inoisetype ]</pre>
      </div>
      <div class="refsect1">
        <a id="idm31569"></a>
        <h2>Initialisation</h2>
        <p>
      <span class="emphasis"><em>ifn</em></span> -- Une table contenant une onde sinus (-1 par
      défaut).
    </p>
        <p>
      <span class="emphasis"><em>iphs</em></span> -- La phase du sinus (0 par défaut).
    </p>
        <p>
      <span class="emphasis"><em>inoisetype</em></span> -- Le type du bruit. 0 = uniforme,
      1 = gaussien (1 par defaut).
    </p>
        <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
          <table border="0" summary="Note">
            <tr>
              <td rowspan="2" align="center" valign="top" width="25">
                <img alt="[Note]" src="images/note.png" />
              </td>
              <th align="left">Note</th>
            </tr>
            <tr>
              <td align="left" valign="top">
                <p>
        L'implémentation originale dans loris utilise un bruit gaussien ; le
        portage dans Supercollider utilise un bruit uniforme. Nous implémentons
        les deux. Dans notre implémentation le bruit gaussien est presque aussi
        efficace que le bruit uniforme, et donc le bruit normal a été chois par
        défaut comme dans loris.
      </p>
              </td>
            </tr>
          </table>
        </div>
      </div>
      <div class="refsect1">
        <a id="idm31579"></a>
        <h2>Exécution</h2>
        <p>
      <span class="emphasis"><em>aout</em></span> -- Le son généré.
    </p>
        <p>
      <span class="emphasis"><em>xfreq</em></span> -- la fréquence de l'oscillateur (taux-k ou -a).
    </p>
        <p>
      Il n'y a pas de contrôle de l'amplitude. L'utilisateur doit pondérer la
      sortie <span class="emphasis"><em>aout</em></span> par tout facteur nécessaire.
    </p>
      </div>
      <div class="refsect1">
        <a id="idm31587"></a>
        <h2>Exemples</h2>
        <p>
      Voici un exemple de l'opcode beosc. Il utilise le fichier
      <a class="ulink" href="examples/beosc.csd" target="_top"><em class="citetitle">beosc.csd</em></a>.
      </p>
        <div class="figure">
          <a id="idm31592"></a>
          <p class="title">
            <strong>Figure 1. </strong>
          </p>
          <div class="figure-contents">
            <div class="mediaobject">
              <img src="images/beosc.jpg" />
            </div>
          </div>
        </div>
        <p><br class="figure-break" />
      </p>
        <div class="example">
          <a id="idm31596"></a>
          <p class="title">
            <strong>Exemple 89. Exemple de l'opcode beosc.</strong>
          </p>
          <div class="example-contents">
            <p>Voir les sections <a class="link" href="UsingRealTime.html" title="Audio en temps réel"><em class="citetitle">Audio en temps réel</em></a>
        et <a class="link" href="CommandFlags.html" title="Ligne de commande de Csound"><em class="citetitle">Options de la ligne de commande</em></a> pour plus
        d'information sur l'utilisation des options de la ligne de commande.</p>
            <div class="refsect1">
              <a id="idm31603"></a>
              <pre class="programlisting">
<span class="nt">&lt;CsoundSynthesizer&gt;</span>
<span class="nt">&lt;CsOptions&gt;</span>
-odac     <span class="c1">;;;realtime audio out</span>
<span class="nt">&lt;/CsOptions&gt;</span>
<span class="nt">&lt;CsInstruments&gt;</span>

<span class="cm">/*

This is the example file for beosc

beosc
=====

Band-Enhanced oscillator, a port of Loris's oscillator
(based on Supercollider's BEOsc)

The band-enhanced family of opcodes (beosc, beadsynt) implement
sound modeling and synthesis that preserves the elegance and
malleability of a sinusoidal model, while accommodating sounds
with noisy (non-sinusoidal) components. Analysis is done offline,
with an enhanced McAulay-Quatieri (MQ) style analysis that extracts
bandwidth information in addition to the sinusoidal parameters for
each partial. To produce noisy components, we synthesize with sine
wave oscillators that have been modified to allow the introduction
of variable bandwidth.

aout beosc xfreq, kbw, ifn=-1, iphs=0, inoisetype=0

aout: the generated sound
afreq / kfreq: the frequency of the oscillator
kbw: the bandwidth of the oscillator. 0=pure sinusoidal
ifn: a table holding a sine wave (use -1 for the builtin wave used for oscili)
iphs: the phase of the sine (use unirand:i(6.28) to produce a random phase)
inoisetype: in the original implementation, gaussian (normal) noise is used,
            in supercollider's port, a simple uniform noise is used.
            We implement both. 0=uniform, 1=normal

There is no control for amplitude. The user is supossed to just multiply
the output aout by any factor needed.

NB: watch the output of this example with a freq. scope
*/</span>

<span class="vg">sr</span> <span class="o">=</span> <span class="mi">44100</span>
<span class="vg">ksmps</span> <span class="o">=</span> <span class="mi">64</span>
<span class="vg">nchnls</span> <span class="o">=</span> <span class="mi">1</span>
<span class="vg">0dbfs</span>  <span class="o">=</span> <span class="mi">1</span>

<span class="kd">instr</span> <span class="nf">1</span>
  i<span class="n">dur1</span> <span class="o">=</span> <span class="mi">8</span>
  i<span class="n">freq</span> <span class="o">=</span> <span class="mi">440</span>
  k<span class="n">freq</span> <span class="nb">linseg</span> i<span class="n">freq</span><span class="p">,</span> i<span class="n">dur1</span><span class="p">,</span> i<span class="n">freq</span><span class="p">,</span> i<span class="n">dur1</span><span class="p">,</span> i<span class="n">freq</span><span class="o">*</span><span class="mi">4</span><span class="p">,</span> i<span class="n">dur1</span><span class="p">,</span> i<span class="n">freq</span>
  k<span class="n">bw</span>   <span class="nb">cosseg</span>     <span class="mi">0</span><span class="p">,</span> i<span class="n">dur1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>     i<span class="n">dur1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>       i<span class="n">dur1</span><span class="p">,</span> <span class="mi">0</span>
  <span class="c1">;          freq   bw   fn  phs              noisetype(0=uniform)</span>
  a<span class="n">out</span>  <span class="n">beosc</span> k<span class="n">freq</span><span class="p">,</span> k<span class="n">bw</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="nb">unirand</span><span class="p">:</span><span class="nb">i</span><span class="p">(</span><span class="mf">6.28</span><span class="p">),</span> <span class="mi">0</span>
  a<span class="n">env</span>  <span class="nb">linsegr</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mi">0</span>
  a<span class="n">out</span> <span class="o">*=</span> <span class="p">(</span>a<span class="n">env</span> <span class="o">*</span> <span class="mf">0.2</span><span class="p">)</span>
  <span class="nb">outch</span> <span class="mi">1</span><span class="p">,</span> a<span class="n">out</span>
<span class="kd">endin</span>

<span class="nt">&lt;/CsInstruments&gt;</span>
<span class="nt">&lt;CsScore&gt;</span>
<span class="nb">i</span> <span class="mi">1</span> <span class="mi">0</span> <span class="mi">32</span>
<span class="nt">&lt;/CsScore&gt;</span>
<span class="nt">&lt;/CsoundSynthesizer&gt;</span> 
</pre>
            </div>
          </div>
        </div>
        <p><br class="example-break" />
    </p>
      </div>
      <div class="refsect1">
        <a id="idm31715"></a>
        <h2>Voir aussi</h2>
        <p>
      <a class="link" href="beadsynt.html" title="beadsynt"><em class="citetitle">beadsynt</em></a>
    </p>
      </div>
      <div class="refsect1">
        <a id="idm31720"></a>
        <h2>Crédits</h2>
        <p>Auteur : Eduardo Moguillansky 2018</p>
        <p>Nouveau greffon dans la version 6.12</p>
      </div>
    </div>
    <div class="navfooter">
      <hr />
      <table width="100%" summary="Navigation footer">
        <tr>
          <td width="40%" align="left"><a accesskey="p" href="beadsynt.html">Précédent</a> </td>
          <td width="20%" align="center">
            <a accesskey="u" href="OpcodesTop.html">Niveau supérieur</a>
          </td>
          <td width="40%" align="right"> <a accesskey="n" href="betarand.html">Suivant</a></td>
        </tr>
        <tr>
          <td width="40%" align="left" valign="top">beadsynt </td>
          <td width="20%" align="center">
            <a accesskey="h" href="index.html">Sommaire</a>
          </td>
          <td width="40%" align="right" valign="top"> betarand</td>
        </tr>
      </table>
    </div>
  </body>
</html>
